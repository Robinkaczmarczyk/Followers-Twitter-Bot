<!doctype html>
<html>
<head>
    <meta charset="utf_8">
    <title>Generate Receipt</title>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7/jquery.js"></script>
    <script src="http://malsup.github.com/jquery.form.js"></script>
    <script type="text/javascript" src="src/money_math.js"></script>
    <script type="text/javascript" src="src/item.js"></script>
    <script type="text/javascript" src="src/imported_item.js"></script>
    <script type="text/javascript" src="src/receipt.js"></script>
    <script>
        $(document).ready(function () {
            $('#receipt').submit(function () {
                var receipt = Receipt();

                for (i=0; i<5; i++)
                {
                    if ($("#item_type" + i).val() != '[choose yours]' && $("#price" + i).length > 0){
                        var price = parseFloat($("#price" + i).val());
                        var item_type = $("#item_type" + i).val();
                        var is_imported = $('#imported' + i).is(':checked');

                        if (is_imported){
                            receipt.add_imported_item(item_type, price);
                        }
                        else {
                            receipt.add_item(item_type, price);
                        }
                    }
                }

                receipt.print();

                return false;
            });
        });
    </script>

</head>
<body>
<form method="get" id="receipt">
    <div class="receipt_item">
        <div class="item_description">
            <label for="item_type1">Item:</label>
            <select id="item_type1" name="item_type1">
                <option selected="selected">[choose yours]</option>
                <option>book</option>
                <option>music CD</option>
                <option>chocolate bar</option>
                <option>box of chocolates</option>
                <option>bottle of perfume</option>
                <option>packet of headache pills</option>
            </select>
        </div>
        <div class="item_imported">
            <label for="imported1">Imported?</label>
            <input type="checkbox" id="imported1" name="imported1"/>
        </div>
        <div class="item_price">
            <label for="price1">Shelf price:</label>
            <input type="text" id="price1" name="price1"/>
        </div>
        <br/>

        <div class="receipt_item">
            <div class="item_description">
                <label for="item_type2">Item:</label>
                <select id="item_type2" name="item_type2">
                    <option selected="selected">[choose yours]</option>
                    <option>book</option>
                    <option>music CD</option>
                    <option>chocolate bar</option>
                    <option>box of chocolates</option>
                    <option>bottle of perfume</option>
                    <option>packet of headache pills</option>
                </select>
            </div>
            <div class="item_imported">
                <label for="imported2">Imported?</label>
                <input type="checkbox" id="imported2" name="imported2"/>
            </div>
            <div class="item_price">
                <label for="price2">Shelf price:</label>
                <input type="text" id="price2" name="price2"/>
            </div>
            <br/>

            <div class="receipt_item">
                <div class="item_description">
                    <label for="item_type3">Item:</label>
                    <select id="item_type3" name="item_type3">
                        <option selected="selected">[choose yours]</option>
                        <option>book</option>
                        <option>music CD</option>
                        <option>chocolate bar</option>
                        <option>box of chocolates</option>
                        <option>bottle of perfume</option>
                        <option>packet of headache pills</option>
                    </select>
                </div>
                <div class="item_imported">
                    <label for="imported3">Imported?</label>
                    <input type="checkbox" id="imported3" name="imported3"/>
                </div>
                <div class="item_price">
                    <label for="price3">Shelf price:</label>
                    <input type="text" id="price3" name="price3"/>
                </div>
                <br/>

                <div class="receipt_item">
                    <div class="item_description">
                        <label for="item_type4">Item:</label>
                        <select id="item_type4" name="item_type4">
                            <option selected="selected">[choose yours]</option>
                            <option>book</option>
                            <option>music CD</option>
                            <option>chocolate bar</option>
                            <option>box of chocolates</option>
                            <option>bottle of perfume</option>
                            <option>packet of headache pills</option>
                        </select>
                    </div>
                    <div class="item_imported">
                        <label for="imported4">Imported?</label>
                        <input type="checkbox" id="imported4" name="imported4"/>
                    </div>
                    <div class="item_price">
                        <label for="price4">Shelf price:</label>
                        <input type="text" id="price4" name="price4"/>
                    </div>
                    <br/>

                    <input type="submit" class="submit_button" value="Generate Receipt"/>
                </div>

                <div id="generated-receipt"></div>
</form>
</body>
</html>